Joseph Corbisiero
jc3790
Lab 7

My program is working. I broke it up into a few functions. In main() I set up the server socket and the mdb-lookup server socket. In the for loop that runs forever, I checked for the reuest from thr browser, whether it was for a file such as index.html or for mdb-lookup in webBrowserRequest(). In the request function I opened the client sock and checked different cases for the method, HTTP Version and if there was a slash at the end in the case with the cs3157/tng website. For the mdb case I checked for when /mdb-lookup was entered at the end and then when the user hits the submit button causing the program to search for the term in the mdb-cs3157 database. In each case if it failed, an error would be displayed according to which case was failed. If the search term was successful or retrieving the file was successful then the 200 OK message is displayed. Regardless in each situation whether successful or failed, a log was displayed representing the request. However, if there was an error my displaySiteError() function displayed the error in html format for the website. My displayMDBResults() function displays the results of the search in a neat formatted table where the colors alternate white and yellow. I just did a simple counter to make it alternate every other. If the counter was divisible by two then the color was yellow, otherwise it was white. To find the search term, I located it using the strrchr() function to search for '=' because the search term followed it after submitting the word. Also I had to fix the requestURI in the case in which there nothing following cs3157/tng/ in the web browser, so I appended index.html to the string to make it as if the user entered it when they really did not. So after typing in the machine and port number, typing /cs3157/tng/ would be the same as entering /cs3157/tng/index.html.
